$def with (name)

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>US Map Data Visualization</title>
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet" type="text/css">
</head>
<body>

<section class="page">
    <header class="title">
        <span>U.S. Map Data Visualization</span>
    </header>
    <section class="about">
        This app is written in <a href="https://python.org">Python 3</a> and uses the <a href="http://webpy.org">web.py</a> framework. <a href="https://python-pillow.org">Pillow</a> (fork of PIL) is used to fill the states in a U.S. map with a color, which is correlated along a gradient to the state's data point.
    </section>
    <section class="options">
        <form action="render" method="POST">
            <label>STEP 1. Choose a data file</label>
            <div class="select_wrap">
                <select name="data_file">
                    $ files = {1:'legislators-current.csv', 2:'starbucks.csv', 3:'state-gsp-growth.csv', 4:'state-water-area.csv'}
                    $ files_desc = {1:'Number of senators and representatives per state', 2:'Number of starbucks stores per state', 3:'Percent growth in GSP, or Gross State Product, per state', 4:'Percent area of each state that is water'}
                    $for file in files:
                        $if file == 2:
                            <option selected value="${file}">${files[file] + ' (' + files_desc[file] + ')'}</option>
                        $else:
                            <option value="${file}">${files[file] + ' (' + files_desc[file] + ')'}</option>
                </select>
                <img src="http://projects.lucaslower.com/us-map/images/down.png">
            </div>
            <label>STEP 2. Choose colors for the maximum and minimum values (click to change)</label>
            <div class="color_wrap">
                <span>Maximum:</span><input type="color" name="start_color" value="#17762b">
            </div>
            <div class="color_wrap">
                <span>Minimum:</span><input type="color" name="end_color" value="#96eaa6">
            </div>

            <input onclick="show_loader()" id='submit' class="sub_btn" type="submit" value="Generate Map&nbsp;&nbsp;&rarr;"/>
        </form>
    </section>
    <section class="footer">
        Crafted with care by <a href="https://lucaslower.com">Lucas Lower</a> for CS 1 at <a href="https://www.eiu.edu">EIU</a>.
    </section>
</section>

<script type="text/javascript">
    function show_loader(){
        var elem = document.getElementById('submit');
        elem.value = 'Generating... (this could take awhile)';
    }
</script>
</body>
</html>